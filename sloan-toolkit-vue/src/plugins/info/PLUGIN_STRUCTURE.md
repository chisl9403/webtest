# Info Plugin ä»£ç ç»“æ„è¯´æ˜

## ğŸ“ æ–‡ä»¶ç»“æ„

```
src/plugins/info/
â”œâ”€â”€ InfoPlugin.vue        # ä¸»æ’ä»¶æ–‡ä»¶
â”œâ”€â”€ index.ts             # æ’ä»¶å¯¼å‡º
â”œâ”€â”€ types/               # ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ index.ts
â””â”€â”€ PLUGIN_STRUCTURE.md  # æœ¬æ–‡æ¡£
```

## ğŸ—ï¸ ä»£ç ç»„ç»‡ç»“æ„

### InfoPlugin.vue ä»£ç åˆ†åŒº

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. é…ç½®ä¸å¸¸é‡                             â”‚
â”‚    - å¯¼å…¥ä¾èµ–                             â”‚
â”‚    - åŸå¸‚æ˜ å°„è¡¨                           â”‚
â”‚    - API ç«¯ç‚¹                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2. å¤©æ°”æ¨¡å—                              â”‚
â”‚    - 2.1 å¤©æ°”æ•°æ®å®šä¹‰                     â”‚
â”‚    - 2.2 æœ¬åœ°å­˜å‚¨æ“ä½œ                     â”‚
â”‚    - 2.3 å¿«é€Ÿé€‰æ‹©                        â”‚
â”‚    - 2.4 é…ç½®åŠ è½½                        â”‚
â”‚    - 2.5 å¤©æ°”APIè°ƒç”¨                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 3. è‚¡ç¥¨æ¨¡å—                              â”‚
â”‚    - 3.1 è‚¡ç¥¨æ•°æ®ç±»å‹å®šä¹‰                 â”‚
â”‚    - 3.2 å“åº”å¼æ•°æ®                      â”‚
â”‚    - 3.3 è¾…åŠ©å‡½æ•°                        â”‚
â”‚    - 3.4 è‚¡ç¥¨APIè°ƒç”¨                     â”‚
â”‚    - 3.5 æ•°æ®åˆ·æ–°                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 4. å·¥å…·å‡½æ•°                              â”‚
â”‚    - 4.1 é£å‘è½¬æ¢                        â”‚
â”‚    - 4.2 æ—¶é—´æ ¼å¼åŒ–                      â”‚
â”‚    - 4.3 ç©ºæ°”è´¨é‡åˆ¤æ–­                     â”‚
â”‚    - 4.4 ç©ºæ°”è´¨é‡é¢œè‰²                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 5. ç”Ÿå‘½å‘¨æœŸ                              â”‚
â”‚    - onMounted é’©å­                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¨ å¸ƒå±€ç»“æ„

### å½“å‰å¸ƒå±€ï¼ˆå·¦è‚¡ç¥¨ï¼Œå³å¤©æ°”ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  El-Row (gutter=20)                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å·¦ä¾§ (md=12)        â”‚ å³ä¾§ (md=12)                â”‚
â”‚                    â”‚                            â”‚
â”‚ ğŸ”¥ çƒ­é—¨è‚¡ç¥¨ TOP5    â”‚ ğŸŒ¤ï¸ å¤©æ°”ä¿¡æ¯                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ è‚¡ç¥¨ä»£ç         â”‚ â”‚ â”‚ æœç´¢æ¡†                 â”‚ â”‚
â”‚ â”‚ æœ€æ–°ä»·         â”‚ â”‚ â”‚ å¿«é€ŸåŸå¸‚æ ‡ç­¾           â”‚ â”‚
â”‚ â”‚ æ¶¨è·Œå¹…         â”‚ â”‚ â”‚                       â”‚ â”‚
â”‚ â”‚ æ¢æ‰‹ç‡         â”‚ â”‚ â”‚ ä¸»è¦ä¿¡æ¯ï¼š             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚  - æ¸©åº¦               â”‚ â”‚
â”‚                    â”‚ â”‚  - åŸå¸‚               â”‚ â”‚
â”‚ ğŸ“Š é¾™è™æ¦œ TOP5      â”‚ â”‚  - æè¿°               â”‚ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚                       â”‚ â”‚
â”‚ â”‚ è‚¡ç¥¨ä»£ç         â”‚ â”‚ â”‚ è¯¦ç»†ä¿¡æ¯ç½‘æ ¼ï¼ˆ2åˆ—ï¼‰ï¼š   â”‚ â”‚
â”‚ â”‚ æ”¶ç›˜ä»·         â”‚ â”‚ â”‚  ä½“æ„Ÿ  æ¹¿åº¦            â”‚ â”‚
â”‚ â”‚ æ¶¨è·Œå¹…         â”‚ â”‚ â”‚  é£é€Ÿ  é£å‘            â”‚ â”‚
â”‚ â”‚ å‡€æµå…¥         â”‚ â”‚ â”‚  äº‘é‡  èƒ½è§åº¦          â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚  ç©ºæ°”  æ°”å‹            â”‚ â”‚
â”‚                    â”‚ â”‚  é™é›¨  æ—¥å‡º            â”‚ â”‚
â”‚                    â”‚ â”‚  é™é›ª  æ—¥è½            â”‚ â”‚
â”‚                    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å“åº”å¼å¸ƒå±€

- **æ¡Œé¢ (>992px)**: å·¦å³å¹¶æ’ï¼Œå„å  50%
- **å¹³æ¿ (â‰¤992px)**: ä¸Šä¸‹æ’åˆ—ï¼Œè‚¡ç¥¨åœ¨ä¸Šï¼Œå¤©æ°”åœ¨ä¸‹
- **ç§»åŠ¨ (â‰¤768px)**: å•åˆ—å¸ƒå±€ï¼Œå¤©æ°”è¯¦æƒ…å˜ä¸ºå•åˆ—

## ğŸ”§ å¦‚ä½•æ‰©å±•æ–°çš„ä¿¡æ¯æ¨¡å—

### æ­¥éª¤ 1: æ·»åŠ æ•°æ®ç±»å‹å’Œå“åº”å¼æ•°æ®

åœ¨ `<script setup>` ä¸­æ·»åŠ ï¼š

```typescript
// ============================================
// X. æ–°æ¨¡å—åç§°
// ============================================

// X.1 æ•°æ®ç±»å‹å®šä¹‰
interface NewModuleData {
  field1: string
  field2: number
  // ... æ›´å¤šå­—æ®µ
}

// X.2 å“åº”å¼æ•°æ®
const newModuleData = ref<NewModuleData | null>(null)
const newModuleLoading = ref(false)
```

### æ­¥éª¤ 2: æ·»åŠ  API è°ƒç”¨å‡½æ•°

```typescript
// X.3 APIè°ƒç”¨
const getNewModuleData = async () => {
  newModuleLoading.value = true
  try {
    const res = await fetch('YOUR_API_ENDPOINT')
    const data = await res.json()
    newModuleData.value = data
    ElMessage.success('æ•°æ®åŠ è½½æˆåŠŸ')
  } catch (error) {
    ElMessage.error('æ•°æ®åŠ è½½å¤±è´¥')
    console.error('è·å–æ•°æ®å¤±è´¥:', error)
  } finally {
    newModuleLoading.value = false
  }
}
```

### æ­¥éª¤ 3: åœ¨æ¨¡æ¿ä¸­æ·»åŠ å±•ç¤ºåŒºåŸŸ

```vue
<!-- åœ¨ el-row ä¸­æ·»åŠ æ–°çš„ el-col -->
<el-col :xs="24" :sm="24" :md="12">
  <el-card shadow="hover" class="new-module-card">
    <template #header>
      <div class="card-header">
        <span class="title">ï¿½ï¿½ æ–°æ¨¡å—æ ‡é¢˜</span>
        <el-button
          text
          :icon="Refresh"
          @click="getNewModuleData"
          :loading="newModuleLoading"
          size="small"
        >
          åˆ·æ–°
        </el-button>
      </div>
    </template>

    <!-- æ•°æ®å±•ç¤ºåŒºåŸŸ -->
    <div v-if="newModuleData" class="new-module-content">
      <!-- è‡ªå®šä¹‰ä½ çš„å±•ç¤ºå†…å®¹ -->
      <div>{{ newModuleData.field1 }}</div>
    </div>

    <!-- æ— æ•°æ®æç¤º -->
    <el-empty 
      v-else
      description="æš‚æ— æ•°æ®"
      :image-size="100"
    />
  </el-card>
</el-col>
```

### æ­¥éª¤ 4: åœ¨ç”Ÿå‘½å‘¨æœŸä¸­åˆå§‹åŒ–

```typescript
onMounted(() => {
  loadConfig()
  loadLocalData()
  refreshStocks()
  getNewModuleData()  // æ·»åŠ è¿™è¡Œ
})
```

### æ­¥éª¤ 5: æ·»åŠ æ ·å¼

```scss
// æ–°æ¨¡å—æ ·å¼
.new-module-card {
  margin-bottom: 20px;
  
  .card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .new-module-content {
    // è‡ªå®šä¹‰å†…å®¹æ ·å¼
  }
}
```

## ğŸ“Š ç°æœ‰æ¨¡å—è¯´æ˜

### å¤©æ°”æ¨¡å—

- **æ•°æ®æ¥æº**: OpenWeatherMap API
- **ä¸»è¦åŠŸèƒ½**: 
  - åŸå¸‚å¤©æ°”æŸ¥è¯¢
  - æ”¶è—åŸå¸‚
  - æœç´¢å†å²
  - 16é¡¹è¯¦ç»†æ°”è±¡æ•°æ®
- **é…ç½®æ–‡ä»¶**: `config.local.json` ä¸­çš„ `apiKey`

### è‚¡ç¥¨æ¨¡å—

- **æ•°æ®æ¥æº**: ä¸œæ–¹è´¢å¯Œ API
- **ä¸»è¦åŠŸèƒ½**:
  - çƒ­é—¨è‚¡ç¥¨ TOP5ï¼ˆæ¶¨å¹…æ¦œï¼‰
  - é¾™è™æ¦œ TOP5ï¼ˆèµ„é‡‘æµå…¥ï¼‰
  - è‡ªåŠ¨åˆ·æ–°åŠŸèƒ½
- **æ— éœ€é…ç½®**: APIå…¬å¼€å¯ç”¨

## ğŸ¯ è®¾è®¡åŸåˆ™

1. **æ¨¡å—åŒ–**: æ¯ä¸ªä¿¡æ¯æ¨¡å—ç‹¬ç«‹å°è£…ï¼Œäº’ä¸å¹²æ‰°
2. **å¯æ‰©å±•**: é€šè¿‡å¤åˆ¶æ¨¡æ¿å¿«é€Ÿæ·»åŠ æ–°æ¨¡å—
3. **å“åº”å¼**: æ”¯æŒæ¡Œé¢ã€å¹³æ¿ã€ç§»åŠ¨ç«¯
4. **ç”¨æˆ·å‹å¥½**: åŠ è½½çŠ¶æ€ã€é”™è¯¯æç¤ºã€ç©ºçŠ¶æ€å¤„ç†
5. **ä»£ç æ¸…æ™°**: è¯¦ç»†æ³¨é‡Šï¼ŒåŒºåŸŸåˆ’åˆ†æ˜ç¡®

## ğŸš€ æœ€ä½³å®è·µ

### å‘½åçº¦å®š

- æ•°æ®: `xxxData`, `xxxLoading`
- å‡½æ•°: `getXxx()`, `refreshXxx()`, `xxxAction()`
- ç»„ä»¶ç±»å: `xxx-card`, `xxx-content`

### é”™è¯¯å¤„ç†

```typescript
try {
  // API è°ƒç”¨
} catch (error) {
  ElMessage.error('å‹å¥½çš„é”™è¯¯æç¤º')
  console.error('è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯', error)
} finally {
  loading.value = false
}
```

### åŠ è½½çŠ¶æ€

```vue
<el-table v-loading="loading" :data="data">
  <!-- è¡¨æ ¼å†…å®¹ -->
</el-table>
```

### ç©ºçŠ¶æ€

```vue
<el-empty 
  v-if="!loading && data.length === 0"
  description="æš‚æ— æ•°æ®"
  :image-size="60"
/>
```

## ğŸ“ ç¤ºä¾‹ï¼šæ·»åŠ æ–°é—»æ¨¡å—

å‡è®¾æˆ‘ä»¬è¦æ·»åŠ ä¸€ä¸ªæ–°é—»æ¨¡å—ï¼Œå®Œæ•´æµç¨‹å¦‚ä¸‹ï¼š

### 1. æ•°æ®ç»“æ„

```typescript
// 6. æ–°é—»æ¨¡å—
interface NewsItem {
  id: string
  title: string
  source: string
  publishTime: string
  url: string
}

const newsList = ref<NewsItem[]>([])
const newsLoading = ref(false)
```

### 2. APIå‡½æ•°

```typescript
const getNews = async () => {
  newsLoading.value = true
  try {
    const res = await fetch('https://api.example.com/news')
    const data = await res.json()
    newsList.value = data.items.slice(0, 10)
    ElMessage.success('æ–°é—»åŠ è½½æˆåŠŸ')
  } catch (error) {
    ElMessage.error('æ–°é—»åŠ è½½å¤±è´¥')
  } finally {
    newsLoading.value = false
  }
}
```

### 3. æ¨¡æ¿

```vue
<el-col :xs="24" :sm="24" :md="12">
  <el-card shadow="hover" class="news-card">
    <template #header>
      <div class="card-header">
        <span class="title">ğŸ“° çƒ­ç‚¹æ–°é—»</span>
        <el-button
          text
          :icon="Refresh"
          @click="getNews"
          :loading="newsLoading"
          size="small"
        >
          åˆ·æ–°
        </el-button>
      </div>
    </template>

    <div v-loading="newsLoading">
      <div 
        v-for="item in newsList" 
        :key="item.id"
        class="news-item"
      >
        <a :href="item.url" target="_blank">
          <h4>{{ item.title }}</h4>
          <div class="news-meta">
            <span>{{ item.source }}</span>
            <span>{{ item.publishTime }}</span>
          </div>
        </a>
      </div>
    </div>

    <el-empty 
      v-if="!newsLoading && newsList.length === 0"
      description="æš‚æ— æ–°é—»"
      :image-size="60"
    />
  </el-card>
</el-col>
```

### 4. æ ·å¼

```scss
.news-card {
  .news-item {
    padding: 12px 0;
    border-bottom: 1px solid #eee;

    &:last-child {
      border-bottom: none;
    }

    a {
      text-decoration: none;
      color: inherit;

      &:hover h4 {
        color: #409eff;
      }
    }

    h4 {
      margin: 0 0 8px 0;
      font-size: 14px;
      transition: color 0.3s;
    }

    .news-meta {
      display: flex;
      justify-content: space-between;
      font-size: 12px;
      color: #909399;
    }
  }
}
```

### 5. åˆå§‹åŒ–

```typescript
onMounted(() => {
  loadConfig()
  loadLocalData()
  refreshStocks()
  getNews()  // æ·»åŠ 
})
```

## ğŸ“ æ€»ç»“

è¿™ä¸ªæ’ä»¶çš„è®¾è®¡éµå¾ªäº†æ¸…æ™°çš„æ¨¡å—åŒ–åŸåˆ™ï¼Œæ¯ä¸ªåŠŸèƒ½æ¨¡å—éƒ½æ˜¯ç‹¬ç«‹çš„ï¼š

- âœ… ä»£ç ç»“æ„æ¸…æ™°ï¼Œåˆ†åŒºæ˜ç¡®
- âœ… æ˜“äºç†è§£å’Œç»´æŠ¤
- âœ… æ‰©å±•æ–°åŠŸèƒ½ç®€å•
- âœ… å“åº”å¼å¸ƒå±€è‡ªé€‚åº”
- âœ… å®Œæ•´çš„é”™è¯¯å¤„ç†

é€šè¿‡å¤åˆ¶ç°æœ‰æ¨¡å—çš„æ¨¡å¼ï¼Œä½ å¯ä»¥å¿«é€Ÿæ·»åŠ ï¼š
- ğŸ“° æ–°é—»èµ„è®¯
- ğŸ’± æ±‡ç‡ä¿¡æ¯
- ï¿½ï¿½ ç”µå½±ç¥¨æˆ¿
- ğŸ“ˆ åŠ å¯†è´§å¸
- ğŸ€ ä½“è‚²èµ›äº‹
- ç­‰ç­‰...

Happy Coding! ğŸš€
